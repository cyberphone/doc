<!DOCTYPE html><html><head><title>JSON Canonicalization</title>
<meta http-equiv=Content-Type content="3ext/html; charset=utf-8">
<meta name="viewport" content="width=400, initial-scale=1">
<link rel="icon" href="../webpkiorg.png" sizes="192x192"><style type="text/css">
.tftable {border-collapse: collapse}
.tftable th {font-size:10pt;background: linear-gradient(to bottom, #eaeaea 14%,#fcfcfc 52%,#e5e5e5 89%);border-width:1px;padding:4pt 10pt 4pt 10pt;border-style:solid;border-color: #a9a9a9;text-align:center;font-family:arial,verdana,helvetica}
.tftable tr {background-color:#FFFFE0}
.tftable td {font-size:10pt;border-width:1px;padding:4pt 8pt 4pt 8pt;border-style:solid;border-color:#a9a9a9;font-family:arial,verdana,helvetica}
body {font-size:10pt;font-family:arial,verdana,helvetica}
a {color:blue;font-family:verdana,helvetica;text-decoration:none}
</style></head><body onload="testing()">
<script>
'use strict';

var canonicalize = function(object) {

    var buffer = '';
    serialize(object);
    return buffer;

    function serialize(object) {
        if (object !== null && typeof object === 'object') {
            if (Array.isArray(object)) {
                buffer += '[';
                let next = false;
                // Array - Maintain element order
                object.forEach((element) => {
                    if (next) {
                        buffer += ',';
                    }
                    next = true;
                    // Recursive call
                    serialize(element);
                });
                buffer += ']';
            } else {
                buffer += '{';
                let next = false;
                // Object - Sort properties before serializing
                Object.keys(object).sort().forEach((property) => {
                    if (next) {
                        buffer += ',';
                    }
                    next = true;
                    // Properties are just strings - Use ES6
                    buffer += JSON.stringify(property);
                    buffer += ':';
                    // Recursive call
                    serialize(object[property]);
                });
                buffer += '}';
            }
        } else {
            // Primitive data type - Use ES6
            buffer += JSON.stringify(object);
        }
    }
};

const tests = [{
  fileName: 'arrays.json',
  inputData: new Uint8Array([0x5b,0x0a,0x20,0x20,0x35,0x36,0x2c,0x0a,0x20,0x20,0x7b,0x0a,0x20,0x20,0x20,0x20,0x22,0x64,0x22,0x3a,
0x20,0x74,0x72,0x75,0x65,0x2c,0x0a,0x20,0x20,0x20,0x20,0x22,0x31,0x30,0x22,0x3a,0x20,0x6e,0x75,0x6c,
0x6c,0x2c,0x0a,0x20,0x20,0x20,0x20,0x22,0x31,0x22,0x3a,0x20,0x5b,0x20,0x5d,0x0a,0x20,0x20,0x7d,0x0a,
0x5d,0x0a]),
  expectedData: new Uint8Array([0x5b,0x35,0x36,0x2c,0x7b,0x22,0x31,0x22,0x3a,0x5b,0x5d,0x2c,0x22,0x31,0x30,0x22,0x3a,0x6e,0x75,0x6c,
0x6c,0x2c,0x22,0x64,0x22,0x3a,0x74,0x72,0x75,0x65,0x7d,0x5d])
},{
  fileName: 'french.json',
  inputData: new Uint8Array([0x7b,0x0a,0x20,0x20,0x22,0x70,0x65,0x61,0x63,0x68,0x22,0x3a,0x20,0x22,0x54,0x68,0x69,0x73,0x20,0x73,
0x6f,0x72,0x74,0x69,0x6e,0x67,0x20,0x6f,0x72,0x64,0x65,0x72,0x22,0x2c,0x0a,0x20,0x20,0x22,0x70,0xc3,
0xa9,0x63,0x68,0xc3,0xa9,0x22,0x3a,0x20,0x22,0x69,0x73,0x20,0x77,0x72,0x6f,0x6e,0x67,0x20,0x61,0x63,
0x63,0x6f,0x72,0x64,0x69,0x6e,0x67,0x20,0x74,0x6f,0x20,0x46,0x72,0x65,0x6e,0x63,0x68,0x22,0x2c,0x0a,
0x20,0x20,0x22,0x70,0xc3,0xaa,0x63,0x68,0x65,0x22,0x3a,0x20,0x22,0x62,0x75,0x74,0x20,0x63,0x61,0x6e,
0x6f,0x6e,0x69,0x63,0x61,0x6c,0x69,0x7a,0x61,0x74,0x69,0x6f,0x6e,0x20,0x4d,0x55,0x53,0x54,0x22,0x2c,
0x0a,0x20,0x20,0x22,0x73,0x69,0x6e,0x22,0x3a,0x20,0x20,0x20,0x22,0x69,0x67,0x6e,0x6f,0x72,0x65,0x20,
0x6c,0x6f,0x63,0x61,0x6c,0x65,0x22,0x0a,0x7d,0x0a]),
  expectedData: new Uint8Array([0x7b,0x22,0x70,0x65,0x61,0x63,0x68,0x22,0x3a,0x22,0x54,0x68,0x69,0x73,0x20,0x73,0x6f,0x72,0x74,0x69,
0x6e,0x67,0x20,0x6f,0x72,0x64,0x65,0x72,0x22,0x2c,0x22,0x70,0xc3,0xa9,0x63,0x68,0xc3,0xa9,0x22,0x3a,
0x22,0x69,0x73,0x20,0x77,0x72,0x6f,0x6e,0x67,0x20,0x61,0x63,0x63,0x6f,0x72,0x64,0x69,0x6e,0x67,0x20,
0x74,0x6f,0x20,0x46,0x72,0x65,0x6e,0x63,0x68,0x22,0x2c,0x22,0x70,0xc3,0xaa,0x63,0x68,0x65,0x22,0x3a,
0x22,0x62,0x75,0x74,0x20,0x63,0x61,0x6e,0x6f,0x6e,0x69,0x63,0x61,0x6c,0x69,0x7a,0x61,0x74,0x69,0x6f,
0x6e,0x20,0x4d,0x55,0x53,0x54,0x22,0x2c,0x22,0x73,0x69,0x6e,0x22,0x3a,0x22,0x69,0x67,0x6e,0x6f,0x72,
0x65,0x20,0x6c,0x6f,0x63,0x61,0x6c,0x65,0x22,0x7d])
},{
  fileName: 'structures.json',
  inputData: new Uint8Array([0x7b,0x0a,0x20,0x20,0x22,0x31,0x22,0x3a,0x20,0x7b,0x22,0x66,0x22,0x3a,0x20,0x7b,0x22,0x66,0x22,0x3a,
0x20,0x22,0x68,0x69,0x22,0x2c,0x22,0x46,0x22,0x3a,0x20,0x35,0x7d,0x20,0x2c,0x22,0x5c,0x6e,0x22,0x3a,
0x20,0x35,0x36,0x2e,0x30,0x7d,0x2c,0x0a,0x20,0x20,0x22,0x31,0x30,0x22,0x3a,0x20,0x7b,0x20,0x7d,0x2c,
0x0a,0x20,0x20,0x22,0x22,0x3a,0x20,0x22,0x65,0x6d,0x70,0x74,0x79,0x22,0x2c,0x0a,0x20,0x20,0x22,0x61,
0x22,0x3a,0x20,0x7b,0x20,0x7d,0x2c,0x0a,0x20,0x20,0x22,0x31,0x31,0x31,0x22,0x3a,0x20,0x5b,0x20,0x7b,
0x22,0x65,0x22,0x3a,0x20,0x22,0x79,0x65,0x73,0x22,0x2c,0x22,0x45,0x22,0x3a,0x20,0x22,0x6e,0x6f,0x22,
0x20,0x7d,0x20,0x5d,0x2c,0x0a,0x20,0x20,0x22,0x41,0x22,0x3a,0x20,0x7b,0x20,0x7d,0x0a,0x7d]),
  expectedData: new Uint8Array([0x7b,0x22,0x22,0x3a,0x22,0x65,0x6d,0x70,0x74,0x79,0x22,0x2c,0x22,0x31,0x22,0x3a,0x7b,0x22,0x5c,0x6e,
0x22,0x3a,0x35,0x36,0x2c,0x22,0x66,0x22,0x3a,0x7b,0x22,0x46,0x22,0x3a,0x35,0x2c,0x22,0x66,0x22,0x3a,
0x22,0x68,0x69,0x22,0x7d,0x7d,0x2c,0x22,0x31,0x30,0x22,0x3a,0x7b,0x7d,0x2c,0x22,0x31,0x31,0x31,0x22,
0x3a,0x5b,0x7b,0x22,0x45,0x22,0x3a,0x22,0x6e,0x6f,0x22,0x2c,0x22,0x65,0x22,0x3a,0x22,0x79,0x65,0x73,
0x22,0x7d,0x5d,0x2c,0x22,0x41,0x22,0x3a,0x7b,0x7d,0x2c,0x22,0x61,0x22,0x3a,0x7b,0x7d,0x7d])
},{
  fileName: 'values.json',
  inputData: new Uint8Array([0x7b,0x0a,0x20,0x20,0x22,0x6e,0x75,0x6d,0x62,0x65,0x72,0x73,0x22,0x3a,0x20,0x5b,0x31,0x45,0x33,0x30,
0x2c,0x20,0x34,0x2e,0x35,0x30,0x2c,0x20,0x36,0x2c,0x20,0x32,0x65,0x2d,0x33,0x2c,0x20,0x30,0x2e,0x30,
0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,
0x30,0x30,0x30,0x30,0x30,0x31,0x5d,0x2c,0x0a,0x20,0x20,0x22,0x65,0x73,0x63,0x61,0x70,0x69,0x6e,0x67,
0x22,0x3a,0x20,0x22,0x5c,0x75,0x32,0x30,0x61,0x63,0x24,0x5c,0x75,0x30,0x30,0x30,0x46,0x5c,0x75,0x30,
0x30,0x30,0x61,0x41,0x27,0x5c,0x75,0x30,0x30,0x34,0x32,0x5c,0x75,0x30,0x30,0x32,0x32,0x5c,0x75,0x30,
0x30,0x35,0x63,0x5c,0x5c,0x5c,0x22,0x5c,0x2f,0x22,0x2c,0x0a,0x20,0x20,0x22,0x6f,0x74,0x68,0x65,0x72,
0x22,0x3a,0x20,0x20,0x5b,0x6e,0x75,0x6c,0x6c,0x2c,0x20,0x74,0x72,0x75,0x65,0x2c,0x20,0x66,0x61,0x6c,
0x73,0x65,0x5d,0x0a,0x7d]),
  expectedData: new Uint8Array([0x7b,0x22,0x65,0x73,0x63,0x61,0x70,0x69,0x6e,0x67,0x22,0x3a,0x22,0xe2,0x82,0xac,0x24,0x5c,0x75,0x30,
0x30,0x30,0x66,0x5c,0x6e,0x41,0x27,0x42,0x5c,0x22,0x5c,0x5c,0x5c,0x5c,0x5c,0x22,0x2f,0x22,0x2c,0x22,
0x6e,0x75,0x6d,0x62,0x65,0x72,0x73,0x22,0x3a,0x5b,0x31,0x65,0x2b,0x33,0x30,0x2c,0x34,0x2e,0x35,0x2c,
0x36,0x2c,0x30,0x2e,0x30,0x30,0x32,0x2c,0x31,0x65,0x2d,0x32,0x37,0x5d,0x2c,0x22,0x6f,0x74,0x68,0x65,
0x72,0x22,0x3a,0x5b,0x6e,0x75,0x6c,0x6c,0x2c,0x74,0x72,0x75,0x65,0x2c,0x66,0x61,0x6c,0x73,0x65,0x5d,
0x7d])
},{
  fileName: 'weird.json',
  inputData: new Uint8Array([0x7b,0x0a,0x20,0x20,0x22,0xe2,0x82,0xac,0x22,0x3a,0x20,0x22,0x45,0x75,0x72,0x6f,0x20,0x53,0x69,0x67,
0x6e,0x22,0x2c,0x0a,0x20,0x20,0x22,0x31,0x22,0x3a,0x20,0x22,0x4f,0x6e,0x65,0x22,0x2c,0x0a,0x20,0x20,
0x22,0x5c,0x75,0x30,0x30,0x38,0x30,0x22,0x3a,0x20,0x22,0x43,0x6f,0x6e,0x74,0x72,0x6f,0x6c,0x22,0x2c,
0x0a,0x20,0x20,0x22,0x5c,0x75,0x64,0x38,0x33,0x64,0x5c,0x75,0x64,0x65,0x30,0x32,0x22,0x3a,0x20,0x22,
0x53,0x6d,0x69,0x6c,0x65,0x79,0x22,0x2c,0x0a,0x20,0x20,0x22,0xc3,0xb6,0x22,0x3a,0x20,0x22,0x4c,0x61,
0x74,0x69,0x6e,0x20,0x53,0x6d,0x61,0x6c,0x6c,0x20,0x4c,0x65,0x74,0x74,0x65,0x72,0x20,0x4f,0x20,0x57,
0x69,0x74,0x68,0x20,0x44,0x69,0x61,0x65,0x72,0x65,0x73,0x69,0x73,0x22,0x2c,0x0a,0x20,0x20,0x22,0xef,
0xac,0xb3,0x22,0x3a,0x20,0x22,0x48,0x65,0x62,0x72,0x65,0x77,0x20,0x4c,0x65,0x74,0x74,0x65,0x72,0x20,
0x44,0x61,0x6c,0x65,0x74,0x20,0x57,0x69,0x74,0x68,0x20,0x44,0x61,0x67,0x65,0x73,0x68,0x22,0x2c,0x0a,
0x20,0x20,0x22,0x3c,0x2f,0x73,0x63,0x72,0x69,0x70,0x74,0x3e,0x22,0x3a,0x20,0x22,0x42,0x72,0x6f,0x77,
0x73,0x65,0x72,0x20,0x43,0x68,0x61,0x6c,0x6c,0x65,0x6e,0x67,0x65,0x22,0x0a,0x7d,0x0a]),
  expectedData: new Uint8Array([0x7b,0x22,0x31,0x22,0x3a,0x22,0x4f,0x6e,0x65,0x22,0x2c,0x22,0x3c,0x2f,0x73,0x63,0x72,0x69,0x70,0x74,
0x3e,0x22,0x3a,0x22,0x42,0x72,0x6f,0x77,0x73,0x65,0x72,0x20,0x43,0x68,0x61,0x6c,0x6c,0x65,0x6e,0x67,
0x65,0x22,0x2c,0x22,0xc2,0x80,0x22,0x3a,0x22,0x43,0x6f,0x6e,0x74,0x72,0x6f,0x6c,0x22,0x2c,0x22,0xc3,
0xb6,0x22,0x3a,0x22,0x4c,0x61,0x74,0x69,0x6e,0x20,0x53,0x6d,0x61,0x6c,0x6c,0x20,0x4c,0x65,0x74,0x74,
0x65,0x72,0x20,0x4f,0x20,0x57,0x69,0x74,0x68,0x20,0x44,0x69,0x61,0x65,0x72,0x65,0x73,0x69,0x73,0x22,
0x2c,0x22,0xe2,0x82,0xac,0x22,0x3a,0x22,0x45,0x75,0x72,0x6f,0x20,0x53,0x69,0x67,0x6e,0x22,0x2c,0x22,
0xf0,0x9f,0x98,0x82,0x22,0x3a,0x22,0x53,0x6d,0x69,0x6c,0x65,0x79,0x22,0x2c,0x22,0xef,0xac,0xb3,0x22,
0x3a,0x22,0x48,0x65,0x62,0x72,0x65,0x77,0x20,0x4c,0x65,0x74,0x74,0x65,0x72,0x20,0x44,0x61,0x6c,0x65,
0x74,0x20,0x57,0x69,0x74,0x68,0x20,0x44,0x61,0x67,0x65,0x73,0x68,0x22,0x7d])
}];

function failed(element) {
    document.getElementById('message').innerHTML = '<span style="color:red">Failed for file: ' + element.fileName + '</span>';
    throw new Error(element.fileName);
}

var testNumber = 0;
function oneFile() {
  if (testNumber < tests.length) {
    var element = tests[testNumber++];
    document.getElementById('message').innerHTML = 'Processing: <span style="color:blue">' + element.fileName + '</span>';
    setTimeout(function() {
      var jsonData = JSON.parse(new TextDecoder().decode(element.inputData));
      var canonicalizedJson = new TextEncoder().encode(canonicalize(jsonData));
      if (canonicalizedJson.length != element.expectedData.length) {
        failed(element);
      }
      for (let i = 0; i < canonicalizedJson.length; i++) {
        if (canonicalizedJson[i] != element.expectedData[i]) {
          failed(element);
        }
      }
      oneFile();
    }, 1000);
  } else {
    document.getElementById('message').innerHTML = '<span style="color:green">All Tests Passed</span>';
  }
}

function testing() {
  if (typeof TextEncoder !== 'function') {
    document.getElementById('message').innerHTML = 'Your browser does not support TextEncoder &#9785;';
    return;
  }
  oneFile();
}
</script>
<div style="cursor:pointer;position:absolute;top:5pt;right:10pt;z-index:5;padding:2pt 0 0 0;width:100pt;height:47pt;border-width:1px;border-style:solid;border-color:black;box-shadow:3pt 3pt 3pt #D0D0D0" onclick="document.location.href='https://github.com/cyberphone/json-canonicalization'" title="Project Home"><svg viewBox="0 0 215 96" xmlns="http://www.w3.org/2000/svg">
<g>
<path fill="rgb(0,102,255)" d="M 59.4,52 L 55.15,52  47.47,27.05 C 47.27,26.37 47.05,25.6 46.82,24.72  46.6,23.85 46.37,23.02 46.17,22.2  45.95,21.25 45.7,20.3 45.47,19.32  45.25,20.3 45.02,21.25 44.8,22.2  44.6,23.02 44.4,23.87 44.17,24.75  43.95,25.62 43.72,26.4 43.5,27.05 L 35.9,52  31.65,52  20.32,15.64  24.22,15.64  31.57,39.75 C 31.92,40.85 32.25,41.92 32.52,42.97  32.79,44.05 33.02,45 33.25,45.85 L 33.97,48.67 C 34.25,47.5 34.52,46.37 34.79,45.25  35.02,44.27 35.29,43.27 35.6,42.22  35.87,41.2 36.15,40.27 36.37,39.47 L 43.67,15.64  47.32,15.64  54.62,39.47 C 54.87,40.25 55.15,41.15 55.42,42.2  55.7,43.25 55.97,44.25 56.22,45.22  56.5,46.35 56.77,47.5 57.07,48.67  57.1,48.67 57.2,48.37 57.35,47.77  57.5,47.17 57.7,46.42 57.92,45.52  58.15,44.62 58.42,43.65 58.72,42.6  59,41.55 59.27,40.6 59.55,39.75 L 66.75,15.64  70.72,15.64  59.4,52 z"/>
<path fill="rgb(0,102,255)" d="M 73.67,39.57 C 73.67,41.02 73.84,42.37 74.22,43.62  74.57,44.9 75.12,45.97 75.87,46.87  76.62,47.8 77.57,48.52 78.72,49.05  79.87,49.57 81.25,49.85 82.85,49.85  84.87,49.85 86.6,49.4 88,48.52  89.37,47.65 90.35,46.45 90.9,44.97 L 94.19,45.55 C 93.92,46.27 93.5,47.05 92.94,47.87  92.4,48.7 91.67,49.45 90.77,50.12  89.87,50.8 88.77,51.37 87.47,51.82  86.15,52.3 84.57,52.52 82.72,52.52  80.8,52.52 79.05,52.22 77.47,51.62  75.89,51.05 74.57,50.15 73.5,48.97  72.39,47.8 71.55,46.37 70.95,44.65  70.34,42.92 70.05,40.95 70.05,38.67  70.05,36.15 70.42,34.04 71.14,32.32  71.87,30.6 72.82,29.22 74,28.15  75.17,27.1 76.52,26.35 78.05,25.9  79.55,25.45 81.07,25.22 82.62,25.22  84.69,25.22 86.5,25.55 88.02,26.22  89.55,26.9 90.8,27.82 91.77,29.02  92.75,30.25 93.44,31.67 93.92,33.32  94.4,34.97 94.62,36.79 94.62,38.77 L 94.62,39.57  73.67,39.57 z M 82.62,27.9 C 81.5,27.9 80.42,28.05 79.39,28.37  78.34,28.7 77.42,29.22 76.62,29.95  75.8,30.67 75.14,31.62 74.62,32.77  74.09,33.92 73.82,35.32 73.75,36.97 L 91.12,36.97 C 91.02,35.57 90.8,34.32 90.42,33.2  90.05,32.07 89.5,31.12 88.82,30.35  88.12,29.57 87.27,28.95 86.25,28.52  85.22,28.1 84.02,27.9 82.62,27.9 z"/>
<path fill="rgb(0,102,255)" d="M 124.72,38.75 C 124.72,40.7 124.49,42.52 124.04,44.2  123.57,45.9 122.87,47.35 121.92,48.57  120.94,49.8 119.74,50.77 118.27,51.47  116.79,52.17 115.1,52.52 113.12,52.52  110.9,52.52 108.94,52.05 107.27,51.1  105.57,50.15 104.29,48.85 103.44,47.17 L 103.37,47.17 C 103.37,47.65 103.37,48.15 103.35,48.7  103.32,49.25 103.29,49.75 103.27,50.22  103.24,50.7 103.22,51.1 103.19,51.42  103.17,51.75 103.15,51.95 103.12,52 L 99.79,52 C 99.79,51.92 99.79,51.7 99.82,51.35  99.82,51.02 99.82,50.6 99.85,50.07  99.87,49.57 99.87,49 99.9,48.35  99.9,47.72 99.9,47.07 99.9,46.4 L 99.9,14.52  103.44,14.52  103.44,26.4 C 103.44,26.92 103.44,27.42 103.44,27.92  103.44,28.42 103.42,28.9 103.4,29.32  103.37,29.82 103.37,30.3 103.35,30.72 L 103.44,30.72 C 104.42,28.95 105.74,27.57 107.37,26.62  108.99,25.7 111.1,25.22 113.62,25.22  115.52,25.22 117.17,25.57 118.54,26.25  119.92,26.95 121.07,27.9 121.99,29.1  122.92,30.3 123.6,31.72 124.04,33.37  124.49,35.02 124.72,36.82 124.72,38.75 z M 121.07,38.75 C 121.07,37.07 120.9,35.57 120.54,34.25  120.19,32.92 119.65,31.8 118.92,30.85  118.19,29.92 117.27,29.2 116.17,28.7  115.04,28.22 113.74,27.97 112.27,27.97  111.1,27.97 109.97,28.15 108.9,28.52  107.82,28.9 106.87,29.52 106.04,30.37  105.22,31.25 104.57,32.37 104.1,33.77  103.6,35.17 103.35,36.9 103.35,38.95  103.35,40.95 103.6,42.65 104.07,44.02  104.54,45.4 105.19,46.52 106.02,47.37  106.82,48.22 107.77,48.82 108.85,49.2  109.92,49.57 111.04,49.77 112.22,49.77  115.1,49.77 117.27,48.82 118.79,46.92  120.32,45.02 121.07,42.3 121.07,38.75 z"/>
<path fill="rgb(197,0,11)" d="M 154.74,26.4 C 154.74,27.87 154.49,29.3 153.99,30.62  153.47,31.97 152.72,33.15 151.69,34.15  150.67,35.17 149.39,35.97 147.87,36.57  146.32,37.2 144.52,37.5 142.49,37.5 L 132.97,37.5  132.97,52  129.27,52  129.27,15.64  142.17,15.64 C 144.24,15.64 146.07,15.89 147.64,16.42  149.22,16.95 150.52,17.67 151.6,18.6  152.64,19.52 153.44,20.65 153.97,21.97  154.49,23.3 154.74,24.77 154.74,26.4 z M 150.97,26.42 C 150.97,23.95 150.19,22.05 148.67,20.67  147.12,19.29 144.82,18.62 141.74,18.62 L 132.97,18.62  132.97,34.54  141.94,34.54 C 143.49,34.54 144.85,34.35 145.97,33.92  147.1,33.52 148.04,32.95 148.79,32.22  149.52,31.5 150.07,30.62 150.44,29.65  150.79,28.67 150.97,27.6 150.97,26.42 z"/>
<path fill="rgb(197,0,11)" d="M 181.35,52 L 166.02,33.22  162.12,37.22  162.12,52  158.42,52  158.42,15.64  162.12,15.64  162.12,33.02  179.17,15.64  183.6,15.64  168.42,30.87  185.82,52  181.35,52 z"/>
<path fill="rgb(197,0,11)" d="M 189.8,52 L 189.8,15.64  193.5,15.64  193.5,52  189.8,52 z"/>
<line x1="10" y1="64" x2="205" y2="64" stroke-width="1.2" stroke="#000000"/>
<path fill="#000000" d="M 25.3,80.31 C 25.3,80.94 25.07,81.49 24.62,81.95  24.16,82.42 23.61,82.65 22.95,82.65  22.33,82.65 21.79,82.42 21.35,81.96  20.9,81.5 20.67,80.95 20.67,80.31  20.67,79.67 20.9,79.13 21.35,78.69  21.8,78.25 22.33,78.03 22.95,78.03  23.6,78.03 24.15,78.25 24.61,78.7  25.07,79.15 25.3,79.69 25.3,80.31 z"/>
<path fill="#000000" d="M 47.65,78.89 C 47.65,80.36 47.37,81.65 46.81,82.76  46.24,83.87 45.43,84.72 44.38,85.31  43.33,85.9 42.08,86.2 40.65,86.2  39.2,86.2 37.96,85.91 36.91,85.32  35.86,84.73 35.05,83.88 34.5,82.77  33.95,81.66 33.67,80.37 33.67,78.89  33.67,76.64 34.29,74.87 35.52,73.59  36.75,72.33 38.47,71.7 40.67,71.7  42.1,71.7 43.35,71.98 44.4,72.55  45.45,73.12 46.26,73.95 46.82,75.03  47.37,76.13 47.65,77.41 47.65,78.89 z M 45.7,78.89 C 45.7,77.14 45.26,75.76 44.39,74.76  43.51,73.76 42.27,73.26 40.67,73.26  39.06,73.26 37.81,73.75 36.93,74.73  36.05,75.73 35.61,77.11 35.61,78.89  35.61,80.66 36.06,82.06 36.95,83.09  37.84,84.13 39.07,84.65 40.65,84.65  42.28,84.65 43.53,84.15 44.4,83.14  45.27,82.14 45.7,80.72 45.7,78.89 z"/>
<path fill="#000000" d="M 116.29,86 L 112.63,80.15  108.24,80.15  108.24,86  106.33,86  106.33,71.91  112.96,71.91 C 114.55,71.91 115.77,72.26 116.64,72.97  117.5,73.68 117.93,74.67 117.93,75.94  117.93,76.98 117.63,77.87 117.02,78.58  116.41,79.29 115.56,79.73 114.49,79.93 L 118.49,86  116.29,86 z M 116.01,75.96 C 116.01,75.14 115.73,74.51 115.18,74.08  114.62,73.65 113.82,73.44 112.77,73.44 L 108.24,73.44  108.24,78.64  112.85,78.64 C 113.86,78.64 114.64,78.4 115.19,77.93  115.74,77.46 116.01,76.81 116.01,75.96 z"/>
<path fill="#000000" d="M 175.86,78.89 C 175.86,76.59 176.47,74.83 177.7,73.58  178.93,72.33 180.65,71.7 182.87,71.7  184.43,71.7 185.7,71.96 186.67,72.48  187.64,73.02 188.39,73.86 188.92,75.02 L 187.1,75.56 C 186.7,74.76 186.15,74.18 185.45,73.81  184.74,73.44 183.87,73.26 182.82,73.26  181.19,73.26 179.95,73.75 179.09,74.73  178.23,75.72 177.8,77.09 177.8,78.89  177.8,80.67 178.26,82.07 179.17,83.1  180.08,84.13 181.35,84.65 182.96,84.65  183.88,84.65 184.74,84.51 185.54,84.23  186.33,83.95 186.98,83.57 187.47,83.09 L 187.47,80.55  183.26,80.55  183.26,78.95  189.23,78.95  189.23,83.81 C 188.48,84.57 187.57,85.16 186.49,85.57  185.4,85.99 184.23,86.2 182.96,86.2  181.49,86.2 180.22,85.91 179.15,85.32  178.08,84.73 177.27,83.89 176.71,82.78  176.14,81.68 175.86,80.38 175.86,78.89 z"/>
</g>
</svg></div><div style="font-size:14pt;padding:10pt 0pt">JSON Canonicalization Test</div>
<div style="font-weight:bold;padding-bottom:10pt" id="message"></div>
<table class="tftable"><tr><th>JSON Input File: arrays.json</th><tr><td style="white-space:nowrap">[<br>&nbsp;&nbsp;56,<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;d&quot;:&nbsp;true,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;10&quot;:&nbsp;null,<br>&nbsp;&nbsp;&nbsp;&nbsp;&quot;1&quot;:&nbsp;[&nbsp;]<br>&nbsp;&nbsp;}<br>]</td></tr><tr><th>Expected Result / UTF-8</th></tr><tr><td style="word-break:break-all">[56,{&quot;1&quot;:[],&quot;10&quot;:null,&quot;d&quot;:true}]</td></tr>
<tr><td><code>5b 35 36 2c 7b 22 31 22 3a 5b 5d 2c 22 31 30 22 3a 6e 75 6c
6c 2c 22 64 22 3a 74 72 75 65 7d 5d</code></td></tr><tr><td style="background-color:white;border-width:0px">&nbsp;<br>&nbsp;</td></tr><tr><th>JSON Input File: french.json</th><tr><td style="white-space:nowrap">{<br>&nbsp;&nbsp;&quot;peach&quot;:&nbsp;&quot;This&nbsp;sorting&nbsp;order&quot;,<br>&nbsp;&nbsp;&quot;péché&quot;:&nbsp;&quot;is&nbsp;wrong&nbsp;according&nbsp;to&nbsp;French&quot;,<br>&nbsp;&nbsp;&quot;pêche&quot;:&nbsp;&quot;but&nbsp;canonicalization&nbsp;MUST&quot;,<br>&nbsp;&nbsp;&quot;sin&quot;:&nbsp;&nbsp;&nbsp;&quot;ignore&nbsp;locale&quot;<br>}</td></tr><tr><th>Expected Result / UTF-8</th></tr><tr><td style="word-break:break-all">{&quot;peach&quot;:&quot;This&nbsp;sorting&nbsp;order&quot;,&quot;péché&quot;:&quot;is&nbsp;wrong&nbsp;according&nbsp;to&nbsp;French&quot;,&quot;pêche&quot;:&quot;but&nbsp;canonicalization&nbsp;MUST&quot;,&quot;sin&quot;:&quot;ignore&nbsp;locale&quot;}</td></tr>
<tr><td><code>7b 22 70 65 61 63 68 22 3a 22 54 68 69 73 20 73 6f 72 74 69
6e 67 20 6f 72 64 65 72 22 2c 22 70 c3 a9 63 68 c3 a9 22 3a
22 69 73 20 77 72 6f 6e 67 20 61 63 63 6f 72 64 69 6e 67 20
74 6f 20 46 72 65 6e 63 68 22 2c 22 70 c3 aa 63 68 65 22 3a
22 62 75 74 20 63 61 6e 6f 6e 69 63 61 6c 69 7a 61 74 69 6f
6e 20 4d 55 53 54 22 2c 22 73 69 6e 22 3a 22 69 67 6e 6f 72
65 20 6c 6f 63 61 6c 65 22 7d</code></td></tr><tr><td style="background-color:white;border-width:0px">&nbsp;<br>&nbsp;</td></tr><tr><th>JSON Input File: structures.json</th><tr><td style="white-space:nowrap">{<br>&nbsp;&nbsp;&quot;1&quot;:&nbsp;{&quot;f&quot;:&nbsp;{&quot;f&quot;:&nbsp;&quot;hi&quot;,&quot;F&quot;:&nbsp;5}&nbsp;,&quot;\n&quot;:&nbsp;56.0},<br>&nbsp;&nbsp;&quot;10&quot;:&nbsp;{&nbsp;},<br>&nbsp;&nbsp;&quot;&quot;:&nbsp;&quot;empty&quot;,<br>&nbsp;&nbsp;&quot;a&quot;:&nbsp;{&nbsp;},<br>&nbsp;&nbsp;&quot;111&quot;:&nbsp;[&nbsp;{&quot;e&quot;:&nbsp;&quot;yes&quot;,&quot;E&quot;:&nbsp;&quot;no&quot;&nbsp;}&nbsp;],<br>&nbsp;&nbsp;&quot;A&quot;:&nbsp;{&nbsp;}<br>}</td></tr><tr><th>Expected Result / UTF-8</th></tr><tr><td style="word-break:break-all">{&quot;&quot;:&quot;empty&quot;,&quot;1&quot;:{&quot;\n&quot;:56,&quot;f&quot;:{&quot;F&quot;:5,&quot;f&quot;:&quot;hi&quot;}},&quot;10&quot;:{},&quot;111&quot;:[{&quot;E&quot;:&quot;no&quot;,&quot;e&quot;:&quot;yes&quot;}],&quot;A&quot;:{},&quot;a&quot;:{}}</td></tr>
<tr><td><code>7b 22 22 3a 22 65 6d 70 74 79 22 2c 22 31 22 3a 7b 22 5c 6e
22 3a 35 36 2c 22 66 22 3a 7b 22 46 22 3a 35 2c 22 66 22 3a
22 68 69 22 7d 7d 2c 22 31 30 22 3a 7b 7d 2c 22 31 31 31 22
3a 5b 7b 22 45 22 3a 22 6e 6f 22 2c 22 65 22 3a 22 79 65 73
22 7d 5d 2c 22 41 22 3a 7b 7d 2c 22 61 22 3a 7b 7d 7d</code></td></tr><tr><td style="background-color:white;border-width:0px">&nbsp;<br>&nbsp;</td></tr><tr><th>JSON Input File: values.json</th><tr><td style="white-space:nowrap">{<br>&nbsp;&nbsp;&quot;numbers&quot;:&nbsp;[1E30,&nbsp;4.50,&nbsp;6,&nbsp;2e-3,&nbsp;0.000000000000000000000000001],<br>&nbsp;&nbsp;&quot;escaping&quot;:&nbsp;&quot;\u20ac$\u000F\u000aA'\u0042\u0022\u005c\\\&quot;\/&quot;,<br>&nbsp;&nbsp;&quot;other&quot;:&nbsp;&nbsp;[null,&nbsp;true,&nbsp;false]<br>}</td></tr><tr><th>Expected Result / UTF-8</th></tr><tr><td style="word-break:break-all">{&quot;escaping&quot;:&quot;€$\u000f\nA'B\&quot;\\\\\&quot;/&quot;,&quot;numbers&quot;:[1e+30,4.5,6,0.002,1e-27],&quot;other&quot;:[null,true,false]}</td></tr>
<tr><td><code>7b 22 65 73 63 61 70 69 6e 67 22 3a 22 e2 82 ac 24 5c 75 30
30 30 66 5c 6e 41 27 42 5c 22 5c 5c 5c 5c 5c 22 2f 22 2c 22
6e 75 6d 62 65 72 73 22 3a 5b 31 65 2b 33 30 2c 34 2e 35 2c
36 2c 30 2e 30 30 32 2c 31 65 2d 32 37 5d 2c 22 6f 74 68 65
72 22 3a 5b 6e 75 6c 6c 2c 74 72 75 65 2c 66 61 6c 73 65 5d
7d</code></td></tr><tr><td style="background-color:white;border-width:0px">&nbsp;<br>&nbsp;</td></tr><tr><th>JSON Input File: weird.json</th><tr><td style="white-space:nowrap">{<br>&nbsp;&nbsp;&quot;€&quot;:&nbsp;&quot;Euro&nbsp;Sign&quot;,<br>&nbsp;&nbsp;&quot;1&quot;:&nbsp;&quot;One&quot;,<br>&nbsp;&nbsp;&quot;\u0080&quot;:&nbsp;&quot;Control&quot;,<br>&nbsp;&nbsp;&quot;\ud83d\ude02&quot;:&nbsp;&quot;Smiley&quot;,<br>&nbsp;&nbsp;&quot;ö&quot;:&nbsp;&quot;Latin&nbsp;Small&nbsp;Letter&nbsp;O&nbsp;With&nbsp;Diaeresis&quot;,<br>&nbsp;&nbsp;&quot;דּ&quot;:&nbsp;&quot;Hebrew&nbsp;Letter&nbsp;Dalet&nbsp;With&nbsp;Dagesh&quot;,<br>&nbsp;&nbsp;&quot;&lt;/script&gt;&quot;:&nbsp;&quot;Browser&nbsp;Challenge&quot;<br>}</td></tr><tr><th>Expected Result / UTF-8</th></tr><tr><td style="word-break:break-all">{&quot;1&quot;:&quot;One&quot;,&quot;&lt;/script&gt;&quot;:&quot;Browser&nbsp;Challenge&quot;,&quot;□&quot;:&quot;Control&quot;,&quot;ö&quot;:&quot;Latin&nbsp;Small&nbsp;Letter&nbsp;O&nbsp;With&nbsp;Diaeresis&quot;,&quot;€&quot;:&quot;Euro&nbsp;Sign&quot;,&quot;😂&quot;:&quot;Smiley&quot;,&quot;דּ&quot;:&quot;Hebrew&nbsp;Letter&nbsp;Dalet&nbsp;With&nbsp;Dagesh&quot;}</td></tr>
<tr><td><code>7b 22 31 22 3a 22 4f 6e 65 22 2c 22 3c 2f 73 63 72 69 70 74
3e 22 3a 22 42 72 6f 77 73 65 72 20 43 68 61 6c 6c 65 6e 67
65 22 2c 22 c2 80 22 3a 22 43 6f 6e 74 72 6f 6c 22 2c 22 c3
b6 22 3a 22 4c 61 74 69 6e 20 53 6d 61 6c 6c 20 4c 65 74 74
65 72 20 4f 20 57 69 74 68 20 44 69 61 65 72 65 73 69 73 22
2c 22 e2 82 ac 22 3a 22 45 75 72 6f 20 53 69 67 6e 22 2c 22
f0 9f 98 82 22 3a 22 53 6d 69 6c 65 79 22 2c 22 ef ac b3 22
3a 22 48 65 62 72 65 77 20 4c 65 74 74 65 72 20 44 61 6c 65
74 20 57 69 74 68 20 44 61 67 65 73 68 22 7d</code></td></tr></table></body></html>